:root{
  --bg:#f3f6fb;
  --card:#fff;
  --accent:#1f6feb;
  --muted:#6b7280;
  --card-border:#2f3650;
  --line:#cbd5e1;
  --max-width:1200px;
}
*{box-sizing:border-box}
body{ margin:0; font-family:Inter, Roboto, Arial, sans-serif; background:var(--bg); color:#0f1724; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Top tabs */
.top-tabs {
  display:flex;
  justify-content:center;
  gap:10px;
  padding:12px 8px;
  background:linear-gradient(90deg,var(--accent),#174b93);
  position:sticky;
  top:0;
  z-index:40;
}
.top-tabs button {
  background:transparent;
  border:none;
  color:white;
  padding:10px 18px;
  font-weight:700;
  border-radius:8px;
  cursor:pointer;
  opacity:0.95;
}
.top-tabs button.active { background:rgba(255,255,255,0.12); box-shadow:0 6px 18px rgba(2,6,23,0.18); }

/* Header */
.page-header { text-align:center; padding:18px 10px; color:#0b1220; max-width:var(--max-width); margin:0 auto 18px; }
.page-header h1 { margin:0; font-size:1.5rem; color:#0f1724; }
.lead { margin-top:8px; color: rgba(15,23,36,0.75); }

/* Tree container */
.tree-container { padding:20px; max-width:var(--max-width); margin:0 auto 40px; }
.tree-wrap { display:flex; flex-direction:column; gap:28px; }

/* Row (generation) */
.row { display:flex; gap:20px; align-items:flex-start; justify-content:center; flex-wrap:wrap; padding:8px 6px; position:relative; }

/* person card */
.person {
  width:170px;
  background:var(--card);
  border-radius:12px;
  padding:14px 12px 16px;
  box-shadow:0 12px 30px rgba(15,23,42,0.06);
  border:2px solid var(--card-border);
  text-align:center;
  cursor:pointer;
  position:relative;
}
.person .avatar { width:76px; height:76px; border-radius:50%; margin:-46px auto 8px; background:linear-gradient(180deg,#f4f6fa,#e9eef8); border:3px solid white; box-shadow:0 6px 20px rgba(15,23,42,0.06); display:block; }
.person .name { font-weight:700; font-size:14px; margin-top:6px; color:#0f1724; }
.person .meta { font-size:12px; color:var(--muted); margin-top:6px; }

/* Couple block (two side-by-side inside same row) */
.couple-block { display:flex; gap:12px; align-items:flex-start; justify-content:center; }

/* Parent-block and child cluster to group parents and children */
.parent-block { display:flex; gap:10px; align-items:flex-start; justify-content:center; }
.child-cluster { display:flex; gap:12px; align-items:flex-start; justify-content:center; }

/* extended styling */
.parent-block.extended .person { background:linear-gradient(180deg,#fff7ed,#fff1db); }

/* child style */
.person.child { background:linear-gradient(180deg,#f0fff4,#ecfdf5); }

/* connectors container */
.connectors { position:relative; pointer-events:none; }

/* Draw simple vertical connectors by absolute positioned lines.
   We'll place a few decorative lines; because the layout is static, these will visually connect parent rows to child rows. */

/* Generic vertical line style (adjusted for each specific connector inlined) */
.connector { position:absolute; width:2px; background:var(--line); border-radius:2px; }

/* We'll locate / size these connectors with left/top CSS by target attributes.
   Because this CSS is static and the HTML layout may vary with window size, the connectors are intentionally approximate and visually communicate relationships.
   If you prefer fully precise lines, I can add a small JS routine to measure elements and draw SVG lines (I can add that later if you want). */

/* Basic responsive */
@media (max-width:1100px){
  .person { width:150px; }
  .person .avatar { width:64px; height:64px; }
}
@media (max-width:700px){
  .row { flex-direction:column; align-items:center; gap:16px; }
  .person { width:92%; max-width:360px; }
}

/* TIMELINE */
.timeline-container { padding:18px; max-width:var(--max-width); margin:0 auto 80px; }
.timeline-header { margin-bottom:8px; text-align:left; }
.timeline-header h2 { margin:0; font-size:1.2rem; color:#0f1724; }
.muted { color:var(--muted); }

/* timeline track */
.timeline-line-wrap { position:relative; padding:48px 24px 80px; overflow-x:auto; -webkit-overflow-scrolling:touch; }
.timeline-track { display:flex; gap:4%; align-items:center; min-width:1200px; padding:18px 24px; position:relative; }
.timeline-track::before { content:""; position:absolute; left:2%; right:2%; top:50%; height:4px; background:linear-gradient(90deg, rgba(47,54,80,0.12), rgba(47,54,80,0.08)); transform:translateY(-50%); border-radius:999px; z-index:1; }
.timeline-node { position:relative; flex:0 0 auto; width:220px; display:flex; flex-direction:column; align-items:center; z-index:10; outline:none; }
.timeline-dot { width:18px; height:18px; border-radius:50%; background:#fff; border:4px solid var(--accent); box-shadow:0 8px 20px rgba(2,6,23,0.12); cursor:pointer; }
.timeline-label { margin-top:10px; font-size:13px; color:var(--muted); }
.timeline-card { position:absolute; bottom:64px; left:50%; transform:translateX(-50%) translateY(8px); width:320px; background:var(--card); border-radius:10px; padding:12px 14px; box-shadow:0 18px 46px rgba(2,6,23,0.14); border:1px solid rgba(15,23,42,0.06); opacity:0; visibility:hidden; transition:opacity .22s ease, transform .22s ease, visibility .22s; z-index:20; text-align:left; }
.timeline-node.active .timeline-card { opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
.timeline-card h3 { margin:0 0 6px; font-size:15px; color:#0f1724; }
.timeline-card .card-year { font-size:12px; color:var(--muted); margin-bottom:8px; }
.timeline-card p { margin:0 0 10px; color:#111827; line-height:1.45; font-size:14px; max-height:6.4em; overflow:hidden; }
.timeline-card .card-open { display:inline-block; padding:8px 10px; border-radius:8px; background:var(--accent); color:white; border:none; cursor:pointer; font-weight:700; }
.timeline-card::after { content:''; position:absolute; bottom:-12px; left:50%; transform:translateX(-50%); border-left:10px solid transparent; border-right:10px solid transparent; border-top:12px solid var(--card); z-index:19; }

/* Modal */
.modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,0.55); z-index:120; padding:24px; }
.modal-card { background:var(--card); border-radius:12px; padding:24px; max-width:900px; width:100%; box-shadow:0 18px 48px rgba(2,6,23,0.18); position:relative; text-align:left; max-height:90vh; overflow:auto; }
.close-btn { position:absolute; right:12px; top:12px; padding:8px 10px; border-radius:8px; border:none; background:#efefef; cursor:pointer; }

/* focus states */
.person:focus, .timeline-node:focus, .timeline-dot:focus, .card-open:focus { outline:3px solid rgba(31,111,235,0.16); outline-offset:4px; }
